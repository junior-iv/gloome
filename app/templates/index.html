{% extends "base.html" %}

{% block title %}
{{ super() }}
{% endblock %}

{% block scripts %}
{{ super() }}
{% endblock %}

{% block menu %}
{{ super() }}
{% endblock %}

{% block header %}
{{ super() }}
{% endblock %}

{% block content %}
{{ super() }}
<script src="https://d3js.org/d3.v7.js"></script>
{#            <script src="https://d3js.org/d3.v4.js"></script>#}

<div id="wrapper" class="wrapper align-content-center justify-content-center">
{#    <div class="scroll-text text-info text-center">Scroll to down</div>#}
{#    <div class="aarrow one">#}
{#        <div class="m-2">{{nwt.arrow(4, 'lightskyblue', 36, 36)}}</div>#}
{#    </div>#}
{#    <div class="aarrow two">#}
{#        <div class="m-2">{{nwt.arrow(4, 'lightskyblue', 36, 36)}}</div>#}
{#    </div>#}
</div>

<div class="d-flex flex-column justify-content-center h-100 w-100">
    <div class="box flex-row h-80 w-100">
        <div class="box flex-column w-50 h-auto bg-light rounded-3 p-3 ms-3 me-1 my-3">
            <div class="box flex-column d-flex h-100 w-100 bg-white align-content-around rounded-2">
                <div id="tree" class="h-100 w-100"></div>
            </div>
            <div class="box flex-row text-success h7 m-0">
                <div class="d-flex w-60 flex-column">
                    <div class="text-center m-2 h6">Interactive Tree</div>
                    <ul class="zoomable-element">
                        <li>Hover over a node to view basic info</li>
                        <li>Click on a node or branch to open a detailed table</li>
                        <li>Pinch with two fingers on a trackpad to zoom in/out</li>
                        <li>Drag with your mouse to move the tree</li>
                    </ul>
                </div>
                <div class="d-flex w-40 flex-column">
                    <div class="text-center m-2 h6">Ancestral Comparison</div>
                    <ul class="zoomable-element">
                        <li>P = maintained presence;</li>
                        <li>A = maintained absence</li>
                        <li>L = loss</li>
                        <li>G = gain</li>
                    </ul>
                </div>
            </div>
            <div class="box gap-2 flex-row text-success h7 m-0">
                <div class="d-flex w-60 flex-column">
                    <div class="align-content-end d-flex flex-column rounded-3 btn btn-outline-success bg-success-subtle">
                        <label for="showDistanceToParent" class="h6 container-checkbox">
                            <input value="1" id="showDistanceToParent" name="showDistanceToParent" onchange="reDrawPhylogeneticTree()"
                                   type="checkbox" class="container-checkbox-input"/>
                            <span class="container-checkbox-icon"></span>
                            <span class="container-checkbox-text">show distance to parent</span>
                        </label>
                    </div>
                </div>
                <div class="d-flex w-40 flex-column">
                    <div class="align-content-end d-flex flex-column rounded-3 btn btn-outline-success bg-success-subtle">
                        <label for="isRadialTree" class="h6 container-checkbox">
                            <input value="1" id="isRadialTree" name="isRadialTree" onchange="reDrawPhylogeneticTree()"
                                   type="checkbox" class="container-checkbox-input"/>
                            <span class="container-checkbox-icon"></span>
                            <span class="container-checkbox-text">show radial tree</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div  class="box flex-column w-50 h-auto bg-light rounded-3 p-3 me-3 ms-1 my-3">
            <div class="box gap-2  flex-column d-flex h-70 w-100 bg-white align-content-center rounded-2 p-3">
                <div class="text-center">
                    <label for="msaText" class="h6 text-success-emphasis align-content-center">Add a phyletic pattern MSA in FASTA format via text input or file upload
                        (<a href="https://en.wikipedia.org/wiki/FASTA_format" target="_blank">FASTA format</a>)<sup>&quest;</sup>
                    </label>
                </div>
                <div class="d-flex flex-row justify-content-end">
                    <input id="msaTextFile" name="msaTextFile" type="file" accept="*.*"
                          class="form-control rounded-pill" onchange="uploadFile('msaText', this.id)"/>
                </div>
                <textarea spellcheck="false" id="msaText" name="msaText" autocomplete="on" rows="auto" class="form-control btn-light font-verdana"
                          placeholder="please provide a phyletic MSA here"></textarea>
                <div class="text-center mt-1">
                    <label for="newickText" class="h6 text-success-emphasis align-content-center">Add a phylogenetic tree in Newick format via text input or file upload
                        (<a href="https://en.wikipedia.org/wiki/Newick_format" target="_blank">Newick format</a>)<sup>&quest;</sup>
                    </label>
                </div>
                <div class="d-flex flex-row justify-content-end">
                    <input id="newickTextFile" name="newickTextFile" type="file" accept="*.*"
                           class="form-control rounded-pill" onchange="uploadFile('newickText', this.id)"/>
                </div>
                <textarea spellcheck="false" id="newickText" name="newickText" autocomplete="on" rows="auto" class="form-control btn-light font-verdana"
                          placeholder="please provide a phylogenetic tree here"></textarea>
            </div>
            <div class="box flex-row text-center w-100 justify-content-center">
                <div class="d-flex w-50 flex-column m-2">
                    <input id="theExampleButton" name="theExampleButton" type="button" class="w-100 form-control btn btn-outline-success bg-success-subtle rounded-pill"
                           value="Load an example" onclick="loadExample(0)"/>
                </div>
                <div class="d-flex w-50 flex-column m-2">
                    <input id="theСleaningButton" name="theСleaningButton" type="button" class="w-100 form-control btn btn-outline-success bg-success-subtle rounded-pill"
                           value="Clear" onclick="formCleaning([{{pi_1}}, {{alpha}}, {{categories_quantity}}, {{coefficient_bl}}])"/>
                </div>
            </div>
            <div class="d-flex flex-column text-center w-100 pb-1 px-2">
                <details open>
                    <summary class="w-100 form-control btn btn-outline-success bg-success-subtle text-success border-0 rounded-pill">
                    <span class="arrow">▼</span>
                    Advanced Options
                    </summary>
                    <div class="box w-100 flex-column">
                        <div class="box flex-column h-auto w-100 p-2">
                            <details class="subdetails">
                                <summary class="text-start w-100 form-control btn btn-outline-secondary bg-secondary-subtle border-1 rounded-5">
                                <span class="subarrow">▽</span>
                                Frequency π1
                                </summary>
                                <div class="box flex-row h-auto w-100 m-2">
                                    <div class="w-48 text-start">
                                        <label for="pi1" class="h6 text-success-emphasis ms-3">π1</label>
                                    </div>
                                    <div class="w-48 text-start">
                                        <input value="{{pi_1}}" id="pi1" name="pi1" type="number" min="0.001" max="0.999" step="0.001"
                                               title="The value must be between 0.001 and 0.999" onchange="validateInput(this.id, {{pi_1}})"
                                               class="form-control rounded-pill"
                                            {%- if is_optimize_pi or is_optimize_pi_average -%}
                                                disabled
                                            {% endif -%}
                                        />
                                    </div>
                                </div>
                                <div class="box flex-row h-auto w-100 m-2">
                                    <div class="w-48 text-start">
                                        <label for="isOptimizePi" class="h6 text-start text-success-emphasis ms-3">optimize π1 value (algorithmic)</label>
                                    </div>
                                    <div class="w-48 text-start">
                                        <input id="isOptimizePi" name="isOptimizePi" onchange="onChangingCheckbox(this.id, this.checked)"
                                               type="checkbox" class="form-check-input rounded-1"
                                            {%- if is_optimize_pi -%}
                                               checked
                                            {% endif -%}
                                        />
                                    </div>
                                </div>
                                <div class="box flex-row h-auto w-100 m-2">
                                    <div class="w-48 text-start">
                                        <label for="isOptimizePiAverage" class="h6 text-start text-success-emphasis ms-3">optimize π1 value (empirical)</label>
                                    </div>
                                    <div class="w-48 text-start">
                                        <input id="isOptimizePiAverage" name="isOptimizePiAverage" onchange="onChangingCheckbox(this.id, this.checked)"
                                               type="checkbox" class="form-check-input rounded-1"
                                            {%- if is_optimize_pi_average -%}
                                                checked
                                            {% endif -%}
                                        />
                                    </div>
                                </div>
                            </details>
                        </div>
                        <div class="box flex-column h-auto w-100 p-2">
                            <details class="subdetails">
                                <summary class="text-start w-100 form-control btn btn-outline-secondary bg-secondary-subtle border-1 rounded-5">
                                <span class="subarrow">▽</span>
                                Γ (Gamma) distribution
                                </summary>
                                <div class="box flex-row h-auto w-100 m-2">
                                    <div class="w-48 text-start">
                                        <label for="alpha" class="h6 text-start text-success-emphasis ms-3">Γ distribution α value</label>
                                    </div>
                                    <div class="w-48 text-start">
                                        <input value="{{alpha}}" id="alpha" name="alpha" type="number" min="0.1" max="20" step="0.1"
                                               title="The value must be between 0.1 and 20"
                                               onchange="validateInput(this.id, {{alpha}})"
                                               class="form-control rounded-pill"
                                            {%- if is_optimize_alpha -%}
                                                disabled
                                            {% endif -%}
                                        />
                                    </div>
                                </div>
                                <div class="box flex-row h-auto w-100 m-2">
                                    <div class="w-48 text-start">
                                        <label for="isOptimizeAlpha" class="h6 text-start text-success-emphasis ms-3">optimize α value</label>
                                    </div>
                                    <div class="w-48 text-start">
                                        <input id="isOptimizeAlpha" name="isOptimizeAlpha" onchange="onChangingCheckbox(this.id, this.checked)"
                                               type="checkbox" class="form-check-input rounded-1"
                                            {%- if is_optimize_alpha -%}
                                                checked
                                            {% endif -%}
                                        />
                                    </div>
                                </div>
                                <div class="box flex-row h-auto w-100 m-2">
                                    <div class="w-48 text-start">
                                        <label for="categoriesQuantity" class="h6 text-start text-success-emphasis ms-3">number of rate categories</label>
                                    </div>
                                    <div class="w-48 text-start">
                                        <input value="{{categories_quantity}}" id="categoriesQuantity" name="categoriesQuantity"
                                               title="The value must be between 1 and 16" type="number" min="1" max="16" step="1"
                                               onchange="validateInput(this.id, {{categories_quantity}})"
                                               class="form-control rounded-pill"/>
                                    </div>
                                </div>
                            </details>
                        </div>
                        <div class="box flex-column h-auto w-100 p-2">
                            <details class="subdetails">
                                <summary class="text-start w-100 form-control btn btn-outline-secondary bg-secondary-subtle border-1 rounded-5">
                                <span class="subarrow">▽</span>
                                    BL (branch lengths) optimization
                                </summary>
                                <div class="box flex-row h-auto w-100 m-2">
                                    <div class="w-48 text-start">
                                        <label for="coefficientBL" class="h6 text-start text-success-emphasis ms-3">BL coefficient</label>
                                    </div>
                                    <div class="w-48 text-start">
                                        <input value="{{coefficient_bl}}" id="coefficientBL" name="coefficientBL"
                                               title="The value must be between 0.1 and 10" type="number" min="0.1" max="10" step="0.1"
                                               onchange="validateInput(this.id, {{coefficient_bl}})"
                                               class="form-control rounded-pill"
                                            {%- if is_optimize_bl -%}
                                                disabled
                                            {% endif -%}
                                        />
                                    </div>
                                </div>
                                <div class="box flex-row h-auto w-100 m-2">
                                    <div class="w-48 text-start">
                                        <label for="isOptimizeBL" class="h6 text-start text-success-emphasis ms-3">optimize BL coefficient</label>
                                    </div>
                                    <div class="w-48 text-start">
                                        <input id="isOptimizeBL" name="isOptimizeBL" onchange="onChangingCheckbox(this.id, this.checked)"
                                               type="checkbox" class="form-check-input rounded-1"
                                               {%- if is_optimize_bl -%}
                                                   checked
                                               {% endif -%}
                                        />
                                    </div>
                                </div>
                            </details>
                        </div>
                        <div class="box flex-column h-auto w-100 p-2">
                            <details class="subdetails">
                                <summary class="text-start w-100 form-control btn btn-outline-secondary bg-secondary-subtle border-1 rounded-5">
                                <span class="subarrow">▽</span>
                                    e-mail
                                </summary>
                                <div class="box flex-row h-auto w-100 m-2">
                                    <div class="w-48 text-start">
                                        <label for="eMail" class="h6 text-start text-success-emphasis ms-3">e-mail</label>
                                    </div>
                                    <div class="w-48 text-start">
                                        <input value="{{e_mail}}" id="eMail" name="eMail"
                                               title="e-mail" type="email" pattern=".+@example\.com" required
                                               onchange="validateInputEMail(this.id)"
                                               class="form-control rounded-pill"
                                            {%- if is_do_not_use_e_mail -%}
                                                disabled
                                            {% endif -%}
                                        />
                                    </div>
                                </div>
                                <div class="box flex-row h-auto w-100 m-2">
                                    <div class="w-48 text-start">
                                        <label for="isDoNotUseEMail" class="h6 text-start text-success-emphasis ms-3">don`t use e-mail</label>
                                    </div>
                                    <div class="w-48 text-start">
                                        <input id="isDoNotUseEMail" name="isDoNotUseEMail" onchange="onChangingCheckbox(this.id, this.checked)"
                                               type="checkbox" class="form-check-input rounded-1"
                                               {%- if is_do_not_use_e_mail -%}
                                                   checked
                                               {% endif -%}
                                        />
                                    </div>
                                </div>
                            </details>
                        </div>
                    </div>
                </details>
            </div>
{#            <div class="d-flex flex-column text-center w-100 pt-1 px-2">#}
{#                <details open>#}
{#                    <summary class="w-100 form-control btn btn-outline-success bg-success-subtle text-success border-0 rounded-pill">#}
{#                    <span class="arrow">▼</span>#}
{#                    Advanced Actions#}
{#                    </summary>#}
{#                    <div class="box w-100 flex-column">#}
{#                        <div class="box flex-column h-auto w-100 p-2">#}
{#                            <details class="subdetails">#}
{#                                <summary class="text-start w-100 form-control btn btn-outline-secondary bg-secondary-subtle border-1 rounded-5">#}
{#                                <span class="subarrow">▽</span>#}
{#                                    read JSON response file#}
{#                                </summary>#}
{#                                <div class="box flex-row h-auto w-100 m-2">#}
{#                                    <div class="w-48 text-start">#}
{#                                        <label for="eMail" class="h6 text-start text-success-emphasis ms-3">read JSON response file</label>#}
{#                                    </div>#}
{#                                    <div class="w-48 text-start">#}
{#                                        <input id="jsonFile" name="jsonFile" type="file" accept=".json"#}
{#                                               title="read JSON response file" class="form-control rounded-pill"#}
{#                                               onchange="readJson(this.id)"/>#}
{#                                    </div>#}
{#                                </div>#}
{#                            </details>#}
{#                        </div>#}
{#                    </div>#}
{#                </details>#}
{#            </div>#}
            <div class="d-flex h-100 flex-column text-center w-100 px-2 mt-2">
                <input id="theButton" name="theButton" type="button" class="h-100 w-100 form-control btn btn-outline-success bg-success-subtle rounded-3"
                      value="SUBMIT" onclick="makeTree(0)"/>
            </div>
        </div>
    </div>
{#    <div id="result" class="d-flex flex-column w-auto h-auto bg-light rounded-3 p-3 mx-3">#}
{#        <div id="logLikelihood" class="d-flex text-start w-100 px-2">#}
{#            <div class="w-100 form-control btn btn-outline-success bg-success-subtle text-success border-0 rounded-pill" onclick="copyValue('logLikelihoodValue')">#}
{#                Tree Log-Likelihood: <span id="logLikelihoodValue" onclick="copyValue(this.id)">-192.82252052877115</span>#}
{#            </div>#}
{#        </div>#}
{#        <div id="nodeInfo" class="d-flex flex-column text-start w-100 px-2"><details open="">#}
{#            <summary class="w-100 form-control btn btn-outline-success bg-success-subtle text-success border-0 rounded-pill">#}
{#            Node information</summary>#}
{#            <table class="w-97 m-3 p-4 h7"><tbody><tr><th class="p-2 w-auto tborder-2">Name</th><th class="p-2 w-auto"></th><td class="w-auto text-center">N4</td></tr><tr><th class="p-2 w-auto tborder-2">Node type</th><th class="p-2 w-auto"></th><td class="w-auto text-center">node</td></tr><tr><th class="p-2 w-auto tborder-2">Distance to parent</th><th class="p-2 w-auto"></th><td class="w-auto text-center">0.2</td></tr><tr><th class="p-2 w-auto tborder-2">Sequence</th><th class="p-2 w-auto"></th><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td></tr><tr><th class="p-2 w-auto tborder-2">Probability coefficient</th><th class="p-2 w-auto"></th><td style="color: forestgreen" class="w-auto text-center">0.523</td><td style="color: slateblue" class="w-auto text-center">0.846</td><td style="color: slateblue" class="w-auto text-center">0.852</td><td style="color: slateblue" class="w-auto text-center">0.853</td><td style="color: slateblue" class="w-auto text-center">0.809</td><td style="color: darkviolet" class="w-auto text-center">0.957</td><td style="color: slateblue" class="w-auto text-center">0.870</td><td style="color: slateblue" class="w-auto text-center">0.812</td><td style="color: mediumturquoise" class="w-auto text-center">0.626</td><td style="color: forestgreen" class="w-auto text-center">0.574</td><td style="color: forestgreen" class="w-auto text-center">0.528</td><td style="color: mediumturquoise" class="w-auto text-center">0.683</td><td style="color: forestgreen" class="w-auto text-center">0.510</td><td style="color: mediumturquoise" class="w-auto text-center">0.610</td><td style="color: darkviolet" class="w-auto text-center">0.962</td><td style="color: mediumturquoise" class="w-auto text-center">0.638</td><td style="color: slateblue" class="w-auto text-center">0.831</td><td style="color: slateblue" class="w-auto text-center">0.867</td><td style="color: mediumturquoise" class="w-auto text-center">0.626</td><td style="color: dodgerblue" class="w-auto text-center">0.772</td><td style="color: dodgerblue" class="w-auto text-center">0.783</td><td style="color: dodgerblue" class="w-auto text-center">0.772</td><td style="color: slateblue" class="w-auto text-center">0.840</td><td style="color: slateblue" class="w-auto text-center">0.837</td><td style="color: dodgerblue" class="w-auto text-center">0.734</td><td style="color: mediumturquoise" class="w-auto text-center">0.692</td><td style="color: dodgerblue" class="w-auto text-center">0.739</td><td style="color: mediumturquoise" class="w-auto text-center">0.692</td><td style="color: darkviolet" class="w-auto text-center">0.997</td></tr><tr><th class="p-2 w-auto tborder-2">Ancestral Comparison</th><th class="p-2 w-auto"></th><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: forestgreen" class="w-auto text-center">G</td><td style="color: forestgreen" class="w-auto text-center">G</td><td style="color: forestgreen" class="w-auto text-center">G</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: slateblue" class="w-auto text-center">P</td></tr></tbody></table></details>#}
{#        </div>#}
{#        <div id="fileList" class="d-flex flex-column text-start w-100 px-2"><details open="">#}
{#            <summary class="w-100 form-control btn btn-outline-success bg-success-subtle text-success border-0 rounded-pill">#}
{#            View/Download Results</summary>#}
{#            <table class="w-97 m-3 p-4 h7">#}
{#            <tbody><tr><th class="p-1 w-auto">Archive (zip):	</th><th class="p-1 w-auto">Interactive tree (html):	</th><th class="p-1 w-auto">Newick tree (png):	</th><th class="p-1 w-auto">Table of nodes (tsv):	</th><th class="p-1 w-auto">log-Likelihood (tsv):	</th></tr>#}
{#            <tr><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2F17561985063212.zip&amp;mode=view" target="_blank">view</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Finteractive_tree.html&amp;mode=view" target="_blank">view</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Fvisual_tree.png&amp;mode=view" target="_blank">view</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Fnode_results.tsv&amp;mode=view" target="_blank">view</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Flog_likelihood.tsv&amp;mode=view" target="_blank">view</a></th></tr>#}
{#            <tr><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2F17561985063212.zip&amp;mode=download" target="_blank">download</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Finteractive_tree.html&amp;mode=download" target="_blank">download</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Fvisual_tree.png&amp;mode=download" target="_blank">download</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Fnode_results.tsv&amp;mode=download" target="_blank">download</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Flog_likelihood.tsv&amp;mode=download" target="_blank">download</a></th></tr>#}
{#            </tbody></table></details>#}
{#        </div>#}
{#    </div>#}
{#            {{nwt.arrow(9)}}#}
{#        <div class="w-100 form-control box flex-row text-center bg-warning-subtle bg-opacity-75 text-success h2">#}
{#            {{nwt.arrow(2, 'maroon', 48, 48)}}#}
{#        </div>#}
    <div id="result" style="visibility: hidden" class="d-flex gap-2 flex-column w-auto h-auto bg-light rounded-3 p-3 mx-3">
        <div id="nodeInfo" class="d-flex gap-2 flex-column text-start w-100 px-2">
{#            <details open>#}
{#                <summary class="w-100 form-control btn btn-outline-success bg-success-subtle text-success border-0 rounded-pill">#}
{#                Node information</summary>#}
{#                <table id="tooltip" class="w-97 m-3 p-4 h7"><tbody><tr><th class="p-2 w-auto tborder-2">Name</th><th class="p-2 w-auto"></th><td class="w-auto text-center">N4</td></tr><tr><th class="p-2 w-auto tborder-2">Node type</th><th class="p-2 w-auto"></th><td class="w-auto text-center">node</td></tr><tr><th class="p-2 w-auto tborder-2">Distance to parent</th><th class="p-2 w-auto"></th><td class="w-auto text-center">0.2</td></tr><tr><th class="p-2 w-auto tborder-2">Sequence</th><th class="p-2 w-auto"></th><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td></tr><tr><th class="p-2 w-auto tborder-2">Probability coefficient</th><th class="p-2 w-auto"></th><td style="color: forestgreen" class="w-auto text-center">0.523</td><td style="color: slateblue" class="w-auto text-center">0.846</td><td style="color: slateblue" class="w-auto text-center">0.852</td><td style="color: slateblue" class="w-auto text-center">0.853</td><td style="color: slateblue" class="w-auto text-center">0.809</td><td style="color: darkviolet" class="w-auto text-center">0.957</td><td style="color: slateblue" class="w-auto text-center">0.870</td><td style="color: slateblue" class="w-auto text-center">0.812</td><td style="color: mediumturquoise" class="w-auto text-center">0.626</td><td style="color: forestgreen" class="w-auto text-center">0.574</td><td style="color: forestgreen" class="w-auto text-center">0.528</td><td style="color: mediumturquoise" class="w-auto text-center">0.683</td><td style="color: forestgreen" class="w-auto text-center">0.510</td><td style="color: mediumturquoise" class="w-auto text-center">0.610</td><td style="color: darkviolet" class="w-auto text-center">0.962</td><td style="color: mediumturquoise" class="w-auto text-center">0.638</td><td style="color: slateblue" class="w-auto text-center">0.831</td><td style="color: slateblue" class="w-auto text-center">0.867</td><td style="color: mediumturquoise" class="w-auto text-center">0.626</td><td style="color: dodgerblue" class="w-auto text-center">0.772</td><td style="color: dodgerblue" class="w-auto text-center">0.783</td><td style="color: dodgerblue" class="w-auto text-center">0.772</td><td style="color: slateblue" class="w-auto text-center">0.840</td><td style="color: slateblue" class="w-auto text-center">0.837</td><td style="color: dodgerblue" class="w-auto text-center">0.734</td><td style="color: mediumturquoise" class="w-auto text-center">0.692</td><td style="color: dodgerblue" class="w-auto text-center">0.739</td><td style="color: mediumturquoise" class="w-auto text-center">0.692</td><td style="color: darkviolet" class="w-auto text-center">0.997</td></tr><tr><th class="p-2 w-auto tborder-2">Ancestral Comparison</th><th class="p-2 w-auto"></th><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: forestgreen" class="w-auto text-center">G</td><td style="color: forestgreen" class="w-auto text-center">G</td><td style="color: forestgreen" class="w-auto text-center">G</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: slateblue" class="w-auto text-center">P</td></tr></tbody></table>#}
{#            </details>#}
        </div>
        <div id="branchInfo" class="d-flex gap-2 flex-column text-start w-100 px-2">
{#            <details open>#}
{#                <summary class="w-100 form-control btn btn-outline-success bg-success-subtle text-success border-0 rounded-pill">#}
{#                Node information</summary>#}
{#                <table id="tooltip" class="w-97 m-3 p-4 h7"><tbody><tr><th class="p-2 w-auto tborder-2">Name</th><th class="p-2 w-auto"></th><td class="w-auto text-center">N4</td></tr><tr><th class="p-2 w-auto tborder-2">Node type</th><th class="p-2 w-auto"></th><td class="w-auto text-center">node</td></tr><tr><th class="p-2 w-auto tborder-2">Distance to parent</th><th class="p-2 w-auto"></th><td class="w-auto text-center">0.2</td></tr><tr><th class="p-2 w-auto tborder-2">Sequence</th><th class="p-2 w-auto"></th><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: crimson" class="w-auto text-center">0</td><td style="color: darkviolet" class="w-auto text-center">1</td></tr><tr><th class="p-2 w-auto tborder-2">Probability coefficient</th><th class="p-2 w-auto"></th><td style="color: forestgreen" class="w-auto text-center">0.523</td><td style="color: slateblue" class="w-auto text-center">0.846</td><td style="color: slateblue" class="w-auto text-center">0.852</td><td style="color: slateblue" class="w-auto text-center">0.853</td><td style="color: slateblue" class="w-auto text-center">0.809</td><td style="color: darkviolet" class="w-auto text-center">0.957</td><td style="color: slateblue" class="w-auto text-center">0.870</td><td style="color: slateblue" class="w-auto text-center">0.812</td><td style="color: mediumturquoise" class="w-auto text-center">0.626</td><td style="color: forestgreen" class="w-auto text-center">0.574</td><td style="color: forestgreen" class="w-auto text-center">0.528</td><td style="color: mediumturquoise" class="w-auto text-center">0.683</td><td style="color: forestgreen" class="w-auto text-center">0.510</td><td style="color: mediumturquoise" class="w-auto text-center">0.610</td><td style="color: darkviolet" class="w-auto text-center">0.962</td><td style="color: mediumturquoise" class="w-auto text-center">0.638</td><td style="color: slateblue" class="w-auto text-center">0.831</td><td style="color: slateblue" class="w-auto text-center">0.867</td><td style="color: mediumturquoise" class="w-auto text-center">0.626</td><td style="color: dodgerblue" class="w-auto text-center">0.772</td><td style="color: dodgerblue" class="w-auto text-center">0.783</td><td style="color: dodgerblue" class="w-auto text-center">0.772</td><td style="color: slateblue" class="w-auto text-center">0.840</td><td style="color: slateblue" class="w-auto text-center">0.837</td><td style="color: dodgerblue" class="w-auto text-center">0.734</td><td style="color: mediumturquoise" class="w-auto text-center">0.692</td><td style="color: dodgerblue" class="w-auto text-center">0.739</td><td style="color: mediumturquoise" class="w-auto text-center">0.692</td><td style="color: darkviolet" class="w-auto text-center">0.997</td></tr><tr><th class="p-2 w-auto tborder-2">Ancestral Comparison</th><th class="p-2 w-auto"></th><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: forestgreen" class="w-auto text-center">G</td><td style="color: forestgreen" class="w-auto text-center">G</td><td style="color: forestgreen" class="w-auto text-center">G</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: slateblue" class="w-auto text-center">P</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: crimson" class="w-auto text-center">A</td><td style="color: darkorange" class="w-auto text-center">L</td><td style="color: slateblue" class="w-auto text-center">P</td></tr></tbody></table>#}
{#            </details>#}
        </div>
        <div id="logLikelihood" class="d-flex gap-2 flex-column text-start w-100 px-2">
{#            <div class="w-100 flex-row form-control btn btn-outline-success bg-success-subtle text-success border-0 rounded-pill"#}
{#                 onclick="copyValue('logLikelihoodValue', 7)" title="click here to copy the value of log-Likelihood to the clipboard">#}
{#                Tree Log-Likelihood: <span id="logLikelihoodValue" class="badge bg-success" onclick="copyValue(this.id, 7)">-184.92563569849239</span>#}
{#            </div>#}
        </div>
        <div id="fileList" class="d-flex gap-2 flex-column text-start w-100 px-2">
{#            <details open>#}
{#                <summary class="w-100 form-control btn btn-outline-success bg-success-subtle text-success border-0 rounded-pill">#}
{#                View/Download Results</summary>#}
{#                <table class="w-97 m-3 p-4 h7">#}
{#                <tbody><tr><th class="p-1 w-auto">Archive (zip):	</th><th class="p-1 w-auto">Interactive tree (html):	</th><th class="p-1 w-auto">Newick tree (png):	</th><th class="p-1 w-auto">Table of nodes (tsv):	</th><th class="p-1 w-auto">log-Likelihood (tsv):	</th></tr>#}
{#                <tr><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2F17561985063212.zip&amp;mode=view" target="_blank">view</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Finteractive_tree.html&amp;mode=view" target="_blank">view</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Fvisual_tree.png&amp;mode=view" target="_blank">view</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Fnode_results.tsv&amp;mode=view" target="_blank">view</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Flog_likelihood.tsv&amp;mode=view" target="_blank">view</a></th></tr>#}
{#                <tr><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2F17561985063212.zip&amp;mode=download" target="_blank">download</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Finteractive_tree.html&amp;mode=download" target="_blank">download</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Fvisual_tree.png&amp;mode=download" target="_blank">download</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Fnode_results.tsv&amp;mode=download" target="_blank">download</a></th><th class="p-1 w-auto"><a class="w-auto mw-auto form-control btn btn-outline-link rounded-pill" href="/get_file?file_path=%2Flsweb%2Frodion%2Fgloome%2Fresults%2Fout%2F17561985063212%2Flog_likelihood.tsv&amp;mode=download" target="_blank">download</a></th></tr>#}
{#                </tbody></table>#}
{#            </details>#}
        </div>
        <div id="errorMessage" class="d-flex gap-2 flex-column text-start w-100 px-2">
        </div>
    </div>
</div>
<div id="loader"></div>
<div id="alerts">
    {{nwt.alerts()}}
</div>
<div id="tooltip" style="visibility: hidden"></div>
{% endblock %}
{% block messages %}
{{ super() }}
{% endblock %}
